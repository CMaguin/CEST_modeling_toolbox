
function c=diverging_colors(ind, total_nbr)

if nargin<2
    total_nbr=17;
end

Palette =[ [18 90 86];...%from teal
            [0 118 123];...
            [35 143 157];...
            [66 167 198];...
            [96 188 233];...
            [157 204 239];...
            [198 219 237];...
            [222 230 231];...
            [236 234 218];...
            [240 230 178];...
            [249 213 118];...
            [255 185 84];...
            [253 154 68];...
            [245 118 52];...
            [233 76 31];...
            [209 24 7];...
            [160 24 19];...
    ]./256;

if total_nbr<18
    selection=round(linspace(1,17,total_nbr));
    
    c=Palette(selection(ind),:);
else

    xcolors=linspace(1,total_nbr,17);
    c=[interp1(xcolors,Palette(:,1),ind) interp1(xcolors,Palette(:,2),ind) interp1(xcolors,Palette(:,3),ind)];
end

end